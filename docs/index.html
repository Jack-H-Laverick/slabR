<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Summarise slabs from arrays in R • slabR</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Summarise slabs from arrays in R">
<meta property="og:description" content="A package for creating summary slabs from arrays according to a summary scheme. This is useful for ecosystem models which use a single value to represent volumes within a 3D grid. The different summaries are implemented in C++ using Rcpp for speed.">
<meta property="og:image" content="https://jack-h-laverick.github.io/slabR/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">slabR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="reference/index.html">
    <span class="fa fa-file-code-o"></span>
     
    Functions
  </a>
</li>
<li>
  <a href="news/index.html">
    <span class="fa fa-newspaper-o"></span>
     
    Change log
  </a>
</li>
<li>
  <a href="https:github.com/Jack-H-Laverick/slabR">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="slabr-" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#slabr-" class="anchor"></a>slabR <a href="https://jack-h-laverick.github.io/slabR"><img src="github.gif" align="right" height="200"></a>
</h1></div>
<!-- badges: start -->

<p>slabR is an R package for creating summary slabs from arrays according to a summary scheme <code><a href="reference/slab.html">slab(array, scheme)</a></code>. This is useful for ecosystem models which use a single value to represent volumes within a 3D grid. The different summaries are implemented in C++ using Rcpp for speed.</p>
<div id="motivation" class="section level2">
<h2 class="hasAnchor">
<a href="#motivation" class="anchor"></a>Motivation</h2>
<p>slabR was built to summarise 3D ocean model output. Often the volumes of interest remain constant, but different arrays exist for time steps and variables.</p>
<ul>
<li><p>If you want to summarise the same area for multiple layers of an array the <code>exactextractr</code> package is a fantastic tool. However, with increasing depth the sea floor starts to encroach on the area, meaning fewer pixels are water. This also requires the projection of your data to be interpretable by the <code>raster</code> package, and a secondary step is neccessary to summarise across layers.</p></li>
<li><p>You could summarise across all depths before averaging spatially with optimised functions like <code>colmeans</code>, but this wastes time handling points outside of your target volume which need to be removed later.</p></li>
<li><p>Indexing the array directly from R to only handle useful values can be slow when working with many files over large (global) volumes.</p></li>
</ul>
<p>slabR performs common summary operations on an array by indexing and group membership. We refer to the combination of indices and groupings as a summary scheme when represented as a dataframe. By using a summary scheme, multiple volumes can be summarised from an array, only visiting the pixels of interest, and without leaving the Rcpp loop. slabR plays nicely with pipes, using the array to be processed as the first argument. This allows a constant summary scheme to by applied with <code><a href="https://purrr.tidyverse.org/reference/map.html">purrr::map(list(arrays), slab, scheme)</a></code>.</p>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>The development version can be downloaded from <a href="https://github.com/">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit">
<span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span><span class="op">(</span><span class="st">"Jack-H-Laverick/slabR"</span><span class="op">)</span></pre></div>
</div>
<div id="project-documentation" class="section level2">
<h2 class="hasAnchor">
<a href="#project-documentation" class="anchor"></a>Project Documentation</h2>
<p>Head to <a href="https://jack-h-laverick.github.io/slabR/index.html">GitHub.io</a> to view the full documentation.</p>
<p><br></p>
<p>The navbar contains links to an index of documented functions and a change log.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Report a bug at <br><a href="https:github.com/Jack-H-Laverick/slabR/issues">https:github.com/​Jack-H-Laverick/​slabR/​issues</a>
</li>
<li>Ask a question about the package at at <br><a href="jacklaverick@ymail.com">jacklaverick@ymail.com</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Jack H Laverick <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0001-8829-2084" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://www.tidyverse.org/lifecycle/#experimental"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg"></a></li>
<li><a href="https://github.com/Jack-H-Laverick/slabR/actions"><img src="https://github.com/Jack-H-Laverick/slabR/workflows/R-CMD-check/badge.svg" alt="R build status"></a></li>
<li><a href="https://codecov.io/gh/Jack-H-Laverick/slabR?branch=main"><img src="https://codecov.io/gh/Jack-H-Laverick/slabR/branch/main/graph/badge.svg" alt="Codecov test coverage"></a></li>
<li><a href="https://www.codefactor.io/repository/github/Jack-H-Laverick/slabR"><img src="https://www.codefactor.io/repository/github/Jack-H-Laverick/slabR/badge" alt="CodeFactor"></a></li>
<li><a href="https://github.com/Jack-H-Laverick/slabR/commits/master"><img src="https://img.shields.io/github/last-commit/Jack-H-Laverick/slabR.svg"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Jack H Laverick.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
